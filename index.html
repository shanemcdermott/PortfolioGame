<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ALL YOUR BASE ARE BELONG TO SHANE</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap-4.0.0.css" rel="stylesheet">
	  
	  	<!-- Icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="css/main.css" rel="stylesheet" type="text/css">
  <!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.-->
  <script>var __adobewebfontsappname__="dreamweaver"</script>
  
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="js/jquery-3.2.1.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
   <script src="js/popper.min.js"></script>
  <script src="js/bootstrap-4.0.0.js"></script>
  <script src="js/GamePanel.js"></script>
  <script src="http://use.edgefonts.net/raleway:n1,n3,n6,n5:default.js" type="text/javascript"></script>  
  </head>
  <body>
	<div class="container body-wrap">
		<nav class="navbar navbar-expand-lg fixed-top" id="my-nav">
			<div class="navbar-header">
      			<a class="navbar-brand" href="/">Shane</a>
      			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      				<span class="navbar-toggler-icon"></span>
      			</button>
			</div>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
		  <div class="navbar-nav navbar-left">
        	<ul class="nav nav-tabs">
          		<li>
            		<a class="nav-link" href="/AboutMe/">About Me</a>
          		</li>
   				<li>
					<a class="nav-link" href="/Portfolio/">Portfolio</a>
				</li>
			  </ul>
		  </div>
		  
		<ul class="navbar-nav ml-auto">
        	<li><a href="https://www.linkedin.com/in/shane-mcdermott-gamedev"><i class="fa fa-linkedin-square icon" alt="LinkedIn"></i></a></li>
        	<li><a href="https://www.github.com/shanemcdermott"><i class="fa fa-github icon" alt="GitHub"></i></a></li>
    		<li><a href="https://www.twitter.com/Shane_McDerm"><i class="fa fa-twitter-square icon" alt="Twitter"></i></a></li>
    		<li><a href="https://www.facebook.com/shane.r.mcdermott"><i class="fa fa-facebook-square icon" alt="Facebook"></i></a></li>
        	<li><a href="mailto:admin@shanemcdermott.ninja"><i class="fa fa-envelope-square icon" alt="E-Mail"></i></a></li>
    	</ul>
      </div>
	<hr>
    </nav>

    <section id="greeting-sec">
    </section>
    
    <section id="game-sec">
      <div class="container">
        <div class='hr'>
          <span class='hr-title'>2018</span>
        </div>
        
        <div class="row">
          <div id ="game-cards-2018" class="card-deck">

          </div>
        </div>
    
        <!-- Collapse Panel 2018 -->
        <div class="collapse port-pan" id="port-pan-2018">
            <div class="port-div" id="port-div-2018">Something went wrong!</div>
        </div>

        <div class='hr'>
          <span class='hr-title'>2017</span>
        </div>

        <div class="row">
          <div id ="game-cards-2017" class="card-deck">

          </div>
        </div>

        <!-- Collapse Panel 2017 -->
        <div class="collapse port-pan" id="port-pan-2017">
            <div class="port-div" id="port-div-2017">Something went wrong!</div>
        </div>

        <div class='hr'>
          <span class='hr-title'>2016</span>
        </div>

        <div class="row">
          <div id ="game-cards-2016" class="card-deck">

          </div>
        </div>

        <!-- Collapse Panel 2016 -->
        <div class="collapse port-pan" id="port-pan-2016">
            <div class="port-div" id="port-div-2016">Something went wrong!</div>
        </div>

        <div class='hr'>
          <span class='hr-title'>Game Jams</span>
        </div>

        <div class="row">
          <div id ="game-cards-jams" class="card-deck"></div>
        </div>

        <!-- Collapse Panel Jams -->
        <div class="collapse port-pan" id="port-pan-jams">
            <div class="port-div" id="port-div-jams">Something went wrong!</div>
        </div>

      </div>
    </section>
  

  
</div>

    <script>
      
      var gameCards = new Map();
      var contentYear;

        $(document).ready(function(){
          
          //Load Greeting Panel
          $("#greeting-sec").load("html/greeting-panel.html", function(responseTxt, statusTxt, xhr){
            if ( statusTxt == "error" ) {
              var msg = "Sorry but there was an error: ";
              console.log( msg + xhr.status + " " + xhr.statusText );
            }
          });

          function addGameData(data, cardSection="#game-cards-2018")
          {
            let sections = [];
            $.each(data.sections, function(i, section){
              sections[i] = new PanelSection(section.name, section.id, section.className, section.active, section.type, section.contents);
            });

            let gameBtn = new GameInfo(data.name, data.tag, data.year, data.images, sections, data.color);
            let cardHtml = gameBtn.card.html;
            
            gameCards[data.tag+"-btn"] = gameBtn;
            $(cardSection).append(cardHtml);
          }

          var portContentId;

          $.when(
            $.getJSON("json/2018/QuaSim.json", function(data){
              addGameData(data, "#game-cards-2018");
            }),
            $.getJSON("json/2018/LilNecro.json",function(data){
              addGameData(data, "#game-cards-2018");
            }),
            $.getJSON("json/2018/Graphics2D.json", function(data){
              addGameData(data, "#game-cards-2018");
            }),
            $.getJSON("json/2018/Capstone.json", function(data){
              addGameData(data, "#game-cards-2018");
            }),
            $.getJSON("json/2017/GameAI.json", function(data){
              addGameData(data, "#game-cards-2017");
            }),
            $.getJSON("json/2017/NodeUE.json", function(data){
              addGameData(data, "#game-cards-2017");
            }),
            $.getJSON("json/2017/FPSTD.json", function(data){
              addGameData(data, "#game-cards-2017");
            }),
            $.getJSON("json/2017/FinalBoss.json", function(data){
              addGameData(data, "#game-cards-2017");
            }),
            $.getJSON("json/2016/Minotaur.json", function(data){
              addGameData(data, "#game-cards-2016");
            }),
            $.getJSON("json/2016/Seraph.json", function(data){
              addGameData(data, "#game-cards-2016");
            }),
            $.getJSON("json/2016/Genesis.json", function(data){
              addGameData(data, "#game-cards-2016");
            }),
            $.getJSON("json/2016/Apotheosis.json", function(data){
              addGameData(data, "#game-cards-2016");
            }),
            $.getJSON("json/jams/UEJamMay16.json", function(data){
              addGameData(data, "#game-cards-jams");
            }),
            $.getJSON("json/jams/UEJamOct15.json", function(data){
              addGameData(data, "#game-cards-jams");
            }),
            $.getJSON("json/jams/UEJamSep15.json", function(data){
              addGameData(data, "#game-cards-jams");
            })   
          ).then(function(){

            $(".port-btn").click(function(){
              
              if(portContentId==this.id)
              {
                $(".port-pan").collapse('hide');
                portContentId = null;
              }
              else
              {
                if(contentYear != gameCards[this.id].year)
                {
                  $(".port-pan").collapse('hide');
                }

                portContentId = this.id;
                contentYear = gameCards[portContentId].year;
                let divId = "#port-div-"+contentYear;
                let panId = "#port-pan-"+contentYear;

                $(divId).html(gameCards[portContentId].panel);
                $(panId).collapse('show');
                $(".carousel").carousel();
              }
            });
          });

        });
     
    </script>
  </body>
</html>